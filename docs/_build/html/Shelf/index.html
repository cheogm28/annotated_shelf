<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Quick Tutorial" href="../Tutorial/index.html" /><link rel="prev" title="REST API" href="../Rest/index.html" />

    <link rel="shortcut icon" href="../_static/shelf_logo.png"/><!-- Generated with Sphinx 4.5.0 and Furo 2023.03.27 -->
        <title>Shelf - annotated_shelf documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">annotated_shelf  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/shelf_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Features/index.html"><i class="fa-solid fa-wand-magic-sparkles"></i> Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Annotations/index.html"><i class="fa-solid fa-at"></i> Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rest/index.html"><i class="fa-solid fa-code-compare"></i> REST API</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#"><i class="fa-solid fa-book"></i> Shelf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/index.html"><i class="fa-solid fa-bolt"></i> Quick Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Steps/index.html"><i class="fa-solid fa-shoe-prints"></i> Step by Step</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Steps/index.html#creating-the-base">Creating the base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contribute/index.html"><i class="fa-solid fa-code"></i> Creator and contributtors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RoadMap/index.html"><i class="fa-solid fa-map-location-dot"></i> Road Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Release/index.html"><i class="fa-solid fa-pencil"></i> release Notes</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="shelf">
<h1><i class="fa-solid fa-book"></i> Shelf<a class="headerlink" href="#shelf" title="Permalink to this headline">#</a></h1>
<p>Dart Shelf is a powerful and flexible web server library for Dart that provides a simple, low-level API for building HTTP servers and web applications. Created by the Dart team, it is a popular choice for building web applications in Dart due to its ease of use and extensibility.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Service</span> <span class="p">{</span>

  <span class="n">Handler</span> <span class="n">get</span> <span class="n">handler</span> <span class="p">{</span>
    <span class="n">final</span> <span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">();</span>

    <span class="n">router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/say-hi/&lt;name&gt;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">Request</span> <span class="n">request</span><span class="p">,</span> <span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s1">&#39;hi $name&#39;</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="n">router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/user/&lt;userId|[0-9]+&gt;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">Request</span> <span class="n">request</span><span class="p">)</span> <span class="k">async</span> <span class="p">{</span>
      <span class="k">await</span> <span class="n">Future</span><span class="o">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="n">milliseconds</span><span class="p">:</span> <span class="mi">100</span><span class="p">));</span>
      <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s1">&#39;_o/&#39;</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="n">router</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/api/&#39;</span><span class="p">,</span> <span class="n">Api</span><span class="p">()</span><span class="o">.</span><span class="n">router</span><span class="p">);</span>

    <span class="n">router</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="s1">&#39;/&lt;ignored|.*&gt;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">Request</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="n">notFound</span><span class="p">(</span><span class="s1">&#39;Page not found&#39;</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="n">router</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kn">from</span> <span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="n">oldmetalmind</span><span class="o">.</span><span class="n">medium</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">dart</span><span class="o">-</span><span class="n">shelf</span><span class="o">-</span><span class="n">backend</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">dart</span><span class="o">-</span><span class="n">f068d4f37a7a</span>
</pre></div>
</div>
<p>more information about Shelf: <a href="https://pub.dev/documentation/shelf/latest/">https://pub.dev/documentation/shelf/latest/ </a></p>
<section id="motivation">
<h2>&#64; Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">#</a></h2>
<p>The main reasons why this project uses Shelf are:</p>
<ul class="simple">
<li><p><strong>Capable:</strong> Dart Shelf can handle extensive web server needs, from serving static files to building complex APIs.</p></li>
<li><p><strong>Created by the Dart team:</strong> As an official Dart package, Dart Shelf is developed and maintained by the same team responsible for the Dart language and the Dart SDK.</p></li>
<li><p><strong>Can be used as standard:</strong> Dart Shelf is widely adopted for building web applications and APIs in Dart. Its popularity ensures that it will continue to be supported and improved.</p></li>
<li><p><strong>Is not something new:</strong> Dart Shelf has been around for several years and has proven to be a reliable and stable library for web development in Dart.</p></li>
<li><p><strong>Has Response and Request object:</strong> The library provides the Response and Request objects that make it easy to work with HTTP requests and responses.</p></li>
<li><p><strong>Reliable:</strong> Dart Shelf has a solid track record of being reliable and performing well in production environments.</p></li>
<li><p><strong>Extensibility:</strong> Dart Shelf’s modular design allows easy extension and customization. You can easily add middleware or create custom handlers to suit specific needs.</p></li>
<li><p><strong>Easy to integrate:</strong> Designed to be easy, It has a simple API and is compatible with other Dart packages and frameworks.</p></li>
</ul>
<p>In summary, Dart Shelf provides a capable, reliable, and extensible foundation for building
web applications and APIs in Dart language and is a solid choice for creating a library that relies on web server functionality.</p>
</section>
<section id="response-object">
<h2>&#64; Response Object<a class="headerlink" href="#response-object" title="Permalink to this headline">#</a></h2>
<p>The Response class in Dart Shelf is an essential part of the framework to handle HTTP responses. It encapsulates the status code, headers, and message body. It provides developers with methods to modify its properties.
Unlike the Request class, the Response class is mutable, meaning you can change the value of the properties. Developers can set the response status code, headers, and message body using methods like write() or writeAll().
The Response class also offers convenience methods that allow developers to create common types of responses. For instance, the json() function creates a JSON response, while the redirect() function creates a redirect response.</p>
<p>Some properties of the Response class include:</p>
<ul class="simple">
<li><p><strong>status code:</strong> represents the HTTP status code of the response.</p></li>
<li><p><strong>headers:</strong> It is a Map that contains the response headers.</p></li>
<li><p><strong>body:</strong> A StreamController to write the response body efficiently.</p></li>
<li><p><strong>Content-Length:</strong> property represents the length of the response body in bytes.
Furthermore, the Response class provides methods to create new Response objects with modified properties. For instance, the change() function creates a new Response object with a different status code, headers, or request body.</p></li>
</ul>
<p>Overall, the Response class in Dart Shelf is a powerful tool that simplifies constructing and sending HTTP responses to clients.</p>
</section>
<section id="request-object">
<h2>&#64; Request Object:<a class="headerlink" href="#request-object" title="Permalink to this headline">#</a></h2>
<p>The Request class in Dart Shelf represents an HTTP request and provides developers easy access to the details of an incoming HTTP request. It is immutable. However, with change() method can create a new Request object with modified properties.</p>
<p>The properties of the Request class:</p>
<ul class="simple">
<li><p><strong>method:</strong> The HTTP method used in the request (GET, POST, etc.).</p></li>
<li><p><strong>URL:</strong> The requested URI. It is an instance of the Uri class in Dart.</p></li>
<li><p><strong>headers:</strong> A Map that contains the request headers.</p></li>
<li><p><strong>body:</strong>  A Stream that represents the request body. Depending on the Content-Type, it returns a string, bytes, or other formats.</p></li>
<li><p><strong>Content-Length:</strong> property represents the length of the response body in bytes.</p></li>
<li><p><strong>protocol Version:</strong> The HTTP version used in the request</p></li>
</ul>
<p>The Request class is a useful abstraction that allows developers to work with HTTP requests straightforwardly and conveniently. With the Request class, developers can easily access specific parts of the request, such as query parameters or request headers, and create new Request objects with modified properties using the change() method.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../Tutorial/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><i class="fa-solid fa-bolt"></i> Quick Tutorial</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../Rest/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><i class="fa-solid fa-code-compare"></i> REST API</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Marcelo Gomez
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><i class="fa-solid fa-book"></i> Shelf</a><ul>
<li><a class="reference internal" href="#motivation">&#64; Motivation</a></li>
<li><a class="reference internal" href="#response-object">&#64; Response Object</a></li>
<li><a class="reference internal" href="#request-object">&#64; Request Object:</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>